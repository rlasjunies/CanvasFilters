{"version":3,"file":"canvas.js","sourceRoot":"","sources":["canvas.ts"],"names":["mtg","mtg.util","mtg.util.canvas","mtg.util.canvas.Canvas","mtg.util.canvas.Canvas.constructor","mtg.util.canvas.Canvas.getPixels","mtg.util.canvas.Canvas.getCanvas","mtg.util.canvas.Canvas.grayscale","mtg.util.canvas.Canvas.brightness","mtg.util.canvas.Canvas.threshold","mtg.util.canvas.Canvas.convolute","mtg.util.canvas.Canvas.convoluteFloat32","mtg.util.canvas.Canvas.mergeSobel"],"mappings":"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"}